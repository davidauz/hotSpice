v 20130925 2
C 53000 46400 1 0 0 npn-3.sym
{
T 53900 46900 5 10 0 0 0 0 1
device=NPN_TRANSISTOR
T 53900 46800 5 10 1 1 0 0 1
refdes=Q_sr_subckt_2
T 53000 46400 5 10 0 0 0 0 1
model-name=genericNpn
T 53000 46400 5 10 0 1 0 0 1
model=npn
}
C 50400 46400 1 0 1 npn-3.sym
{
T 49500 46900 5 10 0 0 0 6 1
device=NPN_TRANSISTOR
T 49500 46900 5 10 1 1 0 6 1
refdes=Q_sr_subckt_1
T 50400 46400 5 10 0 0 0 6 1
model-name=genericNpn
T 50400 46400 5 10 0 1 0 6 1
model=npn
}
C 53700 47700 1 90 0 resistor-2.sym
{
T 53350 48100 5 10 0 0 90 0 1
device=RESISTOR
T 53700 48000 5 10 1 1 0 0 1
value=2k
T 53700 48200 5 10 1 1 0 0 1
refdes=R_sr_subckt_2
}
C 49900 47800 1 90 0 resistor-2.sym
{
T 49550 48200 5 10 0 0 90 0 1
device=RESISTOR
T 49900 48100 5 10 1 1 0 0 1
value=2k
T 50000 48300 5 10 1 1 0 0 1
refdes=R_sr_subckt_1
}
C 51100 47600 1 180 0 resistor-2.sym
{
T 50700 47250 5 10 0 0 180 0 1
device=RESISTOR
T 51000 47300 5 10 1 1 0 0 1
value=10k
T 50100 47700 5 10 1 1 0 0 1
refdes=R_sr_subckt_5
}
C 53100 47600 1 180 0 resistor-2.sym
{
T 52700 47250 5 10 0 0 180 0 1
device=RESISTOR
T 52200 47200 5 10 1 1 0 0 1
value=10k
T 52100 47700 5 10 1 1 0 0 1
refdes=R_sr_subckt_6
}
N 49800 48700 49800 49000 4
N 49800 49000 53600 49000 4
N 53600 49000 53600 48600 4
N 49800 47800 49800 47400 4
N 53600 47700 53600 47400 4
N 49800 46400 49800 45700 4
N 49800 45700 53600 45700 4
N 53600 45700 53600 46400 4
N 50200 47500 49800 47500 4
N 51900 46900 51500 47500 4
N 51900 46900 53000 46900 4
N 50400 46900 51500 46900 4
N 51100 47500 51500 47500 4
N 51900 47500 52200 47500 4
N 51900 47500 51500 46900 4
N 53100 47500 53600 47500 4
C 51200 46000 1 0 1 spice-subcircuit-IO-1.sym
{
T 50300 46400 5 10 0 1 0 6 1
device=spice-IO
T 50650 46450 5 10 1 1 0 6 1
refdes=P1
}
C 52300 46600 1 180 1 spice-subcircuit-IO-1.sym
{
T 53200 46200 5 10 0 1 180 6 1
device=spice-IO
T 52750 46150 5 10 1 1 180 6 1
refdes=P2
}
N 49300 47500 49800 47500 4
N 53900 47500 53600 47500 4
T 56000 48200 9 10 1 0 0 0 6
P1=SET
P2=RESET
P3=Q
P4=NOT Q
P5=VCC
P6=gnd
C 55800 44600 1 0 0 set-reset.sym
{
T 56000 46000 5 10 1 1 0 0 1
refdes=X?
T 56100 44000 5 10 1 0 0 0 1
device=sr_latch
T 56100 44200 5 10 1 0 0 0 1
graphical=1
}
C 47400 49100 1 0 0 spice-subcircuit-LL-1.sym
{
T 47500 49400 5 10 0 1 0 0 1
device=spice-subcircuit-LL
T 47500 49500 5 10 1 1 0 0 1
refdes=A1
T 47500 49200 5 10 1 1 0 0 1
model-name=sr_latch
T 47400 49100 5 10 0 0 0 0 1
comment="device" MUST be "spice-subcircuit-LL"
}
C 53700 47800 1 180 1 spice-subcircuit-IO-1.sym
{
T 54600 47400 5 10 0 1 180 6 1
device=spice-IO
T 54250 47350 5 10 1 1 180 6 1
refdes=P3
}
C 49500 47200 1 0 1 spice-subcircuit-IO-1.sym
{
T 48600 47600 5 10 0 1 0 6 1
device=spice-IO
T 48950 47650 5 10 1 1 0 6 1
refdes=P4
}
C 51600 45500 1 180 1 spice-subcircuit-IO-1.sym
{
T 52500 45100 5 10 0 1 180 6 1
device=spice-IO
T 52150 45050 5 10 1 1 180 6 1
refdes=P6
}
N 51800 45200 51500 45200 4
N 51500 45200 51500 45700 4
C 51700 49800 1 180 1 spice-subcircuit-IO-1.sym
{
T 52600 49400 5 10 0 1 180 6 1
device=spice-IO
T 52250 49350 5 10 1 1 180 6 1
refdes=P5
}
N 51900 49500 51500 49500 4
N 51500 49500 51500 49000 4
N 52500 46300 52300 46300 4
N 52300 46300 52300 46900 4
N 51000 46300 51200 46300 4
N 51200 46300 51200 46900 4
T 47200 43900 9 10 1 0 0 0 7
This is the SUBCKT for the SR flip-flop.
Generate the cir file with this command:
gnetlist -g spice-sdb -o sr.SUBCKT.cir sr.SUBCKT.sch
then copy the resulting cir file to the subckts folder:
cp sr.SUBCKT.cir ../../../../subckts
This way it will be available to other schematics as a SUBCKT.
neat!
