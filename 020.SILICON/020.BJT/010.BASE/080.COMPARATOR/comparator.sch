v 20130925 2
C 42900 61900 1 270 0 voltage-3.sym
{
T 43600 61700 5 8 0 1 270 0 1
device=VOLTAGE_SOURCE
T 42100 61500 5 10 1 1 0 0 1
refdes=V1
T 42100 61300 5 10 1 1 0 0 1
value=DC 9V
}
C 44200 59600 1 0 0 gnd-1.sym
{
T 44100 59600 5 10 1 1 0 0 1
netname=0
}
C 42900 61900 1 0 0 vcc-1.sym
{
T 43000 62300 5 10 0 1 0 0 1
netname=vcc
}
C 48900 64100 1 180 1 pnp-3.sym
{
T 49800 63600 5 10 0 0 180 6 1
device=PNP_TRANSISTOR
T 48900 64100 5 10 0 0 180 6 1
model-name=genericPNP
T 48900 64100 5 10 0 0 180 6 1
model=pnp
T 49400 63700 5 10 1 1 180 6 1
refdes=Q6
}
N 47200 62900 47200 63100 4
N 44300 62400 46600 62400 4
C 46600 61900 1 0 0 npn-3.sym
{
T 47500 62400 5 10 0 0 0 0 1
device=NPN_TRANSISTOR
T 46600 61900 5 10 0 1 0 0 1
model-name=genericNPN
T 46600 61900 5 10 0 0 0 0 1
model=npn
T 47100 62300 5 10 1 1 0 0 1
refdes=Q1
}
N 45600 62400 45900 62700 4
{
T 46000 62700 5 10 1 1 0 0 1
netname=VIn
}
N 47200 61200 47200 61900 4
N 49500 62900 49500 63100 4
N 49500 64100 49500 64500 4
C 50100 61900 1 0 1 npn-3.sym
{
T 49200 62400 5 10 0 0 0 6 1
device=NPN_TRANSISTOR
T 50100 61900 5 10 0 1 0 6 1
model-name=genericNPN
T 50100 61900 5 10 0 0 0 6 1
model=npn
T 49600 62300 5 10 1 1 0 6 1
refdes=Q2
}
N 49500 61200 49500 61900 4
N 47200 61200 49500 61200 4
C 48100 64500 1 0 0 vcc-1.sym
{
T 48200 64900 5 10 0 1 0 0 1
netname=vcc
}
N 47200 64500 49500 64500 4
C 46900 57100 1 0 1 npn-3.sym
{
T 46000 57600 5 10 0 0 0 6 1
device=NPN_TRANSISTOR
T 46900 57100 5 10 0 1 0 6 1
model-name=genericNPN
T 46900 57100 5 10 0 0 0 6 1
model=npn
T 46400 57500 5 10 1 1 0 6 1
refdes=Q3
}
C 46100 59500 1 0 0 vcc-1.sym
N 46300 56800 46300 57100 4
C 47700 57800 1 0 0 npn-3.sym
{
T 48600 58300 5 10 0 0 0 0 1
device=NPN_TRANSISTOR
T 47700 57800 5 10 0 1 0 0 1
model-name=genericNPN
T 47700 57800 5 10 0 0 0 0 1
model=npn
T 48200 58200 5 10 1 1 0 0 1
refdes=Q4
}
N 48300 56800 48300 57800 4
C 46400 59300 1 90 1 resistor-2.sym
{
T 46050 58900 5 10 0 0 90 6 1
device=RESISTOR
T 46500 58900 5 10 1 1 180 6 1
value=300
T 46500 58700 5 10 1 1 180 6 1
refdes=Rmf
}
N 46300 59300 46300 59500 4
N 46300 58100 46300 58400 4
N 48300 58800 48300 61200 4
N 47700 58300 46300 58300 4
N 46900 57600 47200 57600 4
N 47200 57600 47200 58300 4
N 50000 63000 50600 63200 4
{
T 50600 63200 5 10 1 1 0 0 1
netname=Vof
}
N 49500 63000 51500 63000 4
C 47800 64100 1 180 0 pnp-3.sym
{
T 46900 63600 5 10 0 0 180 0 1
device=PNP_TRANSISTOR
T 47800 64100 5 10 0 0 180 0 1
model-name=genericPNP
T 47800 64100 5 10 0 0 180 0 1
model=pnp
T 47300 63700 5 10 1 1 180 0 1
refdes=Q5
}
N 48000 63600 48000 63000 4
N 48000 63000 47200 63000 4
N 47200 64100 47200 64500 4
N 47800 63600 48900 63600 4
N 44300 62100 44300 62400 4
T 42700 59300 9 10 1 0 0 0 1
Power supply
N 44300 59900 44300 61200 4
C 50500 60300 1 0 0 gnd-1.sym
{
T 50400 60300 5 10 1 1 0 0 1
netname=0
}
N 50600 62400 50100 62400 4
C 42000 64300 1 0 0 spice-directive-1.sym
{
T 42100 64600 5 10 0 1 0 0 1
device=directive
T 42100 64700 5 10 1 1 0 0 1
refdes=A1
T 42000 62500 5 10 1 1 0 0 10
value=.options savecurrents
.control
save all @q4[ib] @q4[ic] @q4[ie]
set color0=rgb:f/f/f
set color1=rgb:0/0/0
tran 0.001 1.5s
set curplottitle="comparator"
plot Vin VRef vb4
plot @q4[ib] @q4[ic] @q4[ie]
.endc
}
C 44100 62100 1 270 0 voltage-3.sym
{
T 44800 61900 5 8 0 0 270 0 1
device=VOLTAGE_SOURCE
T 44100 62100 5 10 0 0 0 0 1
value=0 SIN (0 0.01 2  0 0 0) 
T 44100 62100 5 10 0 0 0 0 1
comment=SIN (Vo Va Freq Td Df Phase)
T 44600 61600 5 10 1 1 0 0 1
refdes=VS10
}
N 46300 56800 48300 56800 4
T 50400 64400 9 10 1 0 0 0 3
1) determine the biasing current for Q1f and Q2f
This is not a 4-resistors scenario like in 
"Let's bias a BJT with 4 resistors"
C 51600 62800 1 90 1 resistor-2.sym
{
T 51250 62400 5 10 0 0 90 6 1
device=RESISTOR
T 51700 62400 5 10 1 1 180 6 1
value=11k
T 51700 62200 5 10 1 1 180 6 1
refdes=RF1
}
N 51500 62800 51500 63000 4
C 51700 61000 1 90 0 capacitor-1.sym
{
T 51000 61200 5 10 0 0 90 0 1
device=CAPACITOR
T 50800 61200 5 10 0 0 90 0 1
symversion=0.1
T 51700 61600 5 10 1 1 0 0 1
refdes=CF1
T 51800 61300 5 10 1 1 0 0 1
value=10u
}
N 50600 62400 50900 62700 4
{
T 51000 62700 5 10 1 1 0 0 1
netname=VRef
}
C 43000 60700 1 0 0 gnd-1.sym
{
T 42900 60700 5 10 1 1 0 0 1
netname=0
}
C 47300 56500 1 0 0 gnd-1.sym
{
T 47200 56500 5 10 1 1 0 0 1
netname=0
}
C 51400 60700 1 0 0 gnd-1.sym
{
T 51300 60700 5 10 1 1 0 0 1
netname=0
}
C 50400 62000 1 270 0 voltage-3.sym
{
T 51100 61800 5 8 0 0 270 0 1
device=VOLTAGE_SOURCE
T 50400 62000 5 10 0 0 0 0 1
value=0 SIN (0 0.01 3  0 0 0) 
T 50400 62000 5 10 0 0 0 0 1
comment=SIN (Vo Va Freq Td Df Phase)
T 49800 61400 5 10 1 1 0 0 1
refdes=VS20
}
N 50600 62000 50600 62400 4
N 50600 61100 50600 60600 4
N 47400 58300 47400 58700 4
{
T 47300 58800 5 10 1 1 0 0 1
netname=Vb4
}
N 48300 61200 48300 61600 4
{
T 48200 61700 5 10 1 1 0 0 1
netname=Vc4
}
B 45500 56100 3600 4100 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
T 47100 59800 9 10 1 0 0 0 2
Current
Source
