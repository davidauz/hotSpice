v 20130925 2
C 38300 65300 1 0 0 spice-directive-1.sym
{
T 38400 65600 5 10 0 1 0 0 1
device=directive
T 38400 65700 5 10 1 1 0 0 1
refdes=A1
T 38300 63700 5 10 1 1 0 0 8
value=.options savecurrents
.control
save all
set color0=rgb:f/f/f
set color1=rgb:0/0/0
dc VS10 -1 1 0.001
plot  vo vi vref
.endc
}
C 47600 64400 1 180 1 pnp-3.sym
{
T 48500 63900 5 10 0 0 180 6 1
device=PNP_TRANSISTOR
T 47600 64400 5 10 0 0 180 6 1
model-name=genericPNP
T 47600 64400 5 10 0 0 180 6 1
model=pnp
T 48100 64000 5 10 1 1 180 6 1
refdes=Ql2f
}
N 45900 62100 45900 63400 4
N 42500 61600 45300 61600 4
C 45300 61100 1 0 0 npn-3.sym
{
T 46200 61600 5 10 0 0 0 0 1
device=NPN_TRANSISTOR
T 45300 61100 5 10 0 1 0 0 1
model-name=genericNPN
T 45300 61100 5 10 0 0 0 0 1
model=npn
T 45800 61500 5 10 1 1 0 0 1
refdes=Q1f
}
N 45900 60400 45900 61100 4
N 48200 62100 48200 63400 4
N 48200 64400 48200 65600 4
C 48800 61100 1 0 1 npn-3.sym
{
T 47900 61600 5 10 0 0 0 6 1
device=NPN_TRANSISTOR
T 48800 61100 5 10 0 1 0 6 1
model-name=genericNPN
T 48800 61100 5 10 0 0 0 6 1
model=npn
T 48300 61500 5 10 1 1 0 6 1
refdes=Q2f
}
N 48200 60400 48200 61100 4
N 45900 60400 48200 60400 4
C 46800 65600 1 0 0 vcc-1.sym
{
T 46900 66000 5 10 0 1 0 0 1
netname=vcc
}
N 45900 65600 48200 65600 4
N 48700 62700 49300 62900 4
{
T 49300 62900 5 10 1 1 0 0 1
netname=Vo
}
N 48700 62700 48200 62700 4
C 46500 64400 1 180 0 pnp-3.sym
{
T 45600 63900 5 10 0 0 180 0 1
device=PNP_TRANSISTOR
T 46500 64400 5 10 0 0 180 0 1
model-name=genericPNP
T 46500 64400 5 10 0 0 180 0 1
model=pnp
T 46000 64000 5 10 1 1 180 0 1
refdes=Ql1f
}
N 46700 63900 46700 63300 4
N 46700 63300 45900 63300 4
N 45900 64400 45900 65600 4
N 46500 63900 47600 63900 4
N 48800 61600 50100 61600 4
N 42200 62200 42500 61600 4
{
T 42000 62300 5 10 1 1 0 0 1
netname=Vi
}
B 45300 63000 3700 1700 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
T 46900 64300 9 10 1 0 0 0 2
Current
mirror
B 44900 60800 4300 1700 3 0 0 0 -1 -1 0 -1 -1 -1 -1 -1
T 46800 61500 9 10 1 0 0 0 2
Differential
pair
C 39700 60000 1 270 0 voltage-3.sym
{
T 40400 59800 5 8 0 1 270 0 1
device=VOLTAGE_SOURCE
T 40200 59600 5 10 1 1 0 0 1
refdes=V1
T 40200 59400 5 10 1 1 0 0 1
value=DC 9V
}
N 39900 59100 41600 59100 4
C 39700 60000 1 0 0 vcc-1.sym
{
T 39800 60400 5 10 0 1 0 0 1
netname=vcc
}
C 39700 59100 1 270 0 voltage-3.sym
{
T 40400 58900 5 8 0 1 270 0 1
device=VOLTAGE_SOURCE
T 40200 58700 5 10 1 1 0 0 1
refdes=V2
T 40200 58500 5 10 1 1 0 0 1
value=DC 9V
}
C 40100 58200 1 180 0 vee-1.sym
{
T 40100 58200 5 10 0 0 0 0 1
netname=vee
}
N 41600 60000 41900 60300 4
{
T 42000 60300 5 10 1 1 0 0 1
netname=Vi
}
C 41500 57900 1 0 0 gnd-1.sym
{
T 41400 57900 5 10 1 1 0 0 1
netname=0
}
N 41600 58200 41600 59100 4
T 38300 59500 9 10 1 0 0 0 1
Power supply
C 50000 58900 1 0 0 gnd-1.sym
{
T 49900 58900 5 10 1 1 0 0 1
netname=0
}
C 41400 60000 1 270 0 voltage-3.sym
{
T 42100 59800 5 8 0 0 270 0 1
device=VOLTAGE_SOURCE
T 41400 60000 5 10 0 0 0 0 1
value=0 SIN (0 0.5 2  0 0 0) 
T 41400 60000 5 10 0 0 0 0 1
comment=SIN (Vo Va Freq Td Df Phase)
T 41900 59500 5 10 1 1 0 0 1
refdes=VS10
}
T 41000 65200 9 10 1 0 0 0 4
this is supposed to be a BJT voltage comparator.
The simulation is done with a voltage sweep from -1
to 1; when vi touches the reference voltage VRef,
the output voltage Vo jumps up.
C 45600 57600 1 0 1 npn-3.sym
{
T 44700 58100 5 10 0 0 0 6 1
device=NPN_TRANSISTOR
T 45600 57600 5 10 0 1 0 6 1
model-name=genericNPN
T 45600 57600 5 10 0 0 0 6 1
model=npn
T 45100 58000 5 10 1 1 0 6 1
refdes=Qm3d
}
C 44800 59900 1 0 0 vcc-1.sym
N 45000 57400 45000 57600 4
C 45100 59800 1 90 1 resistor-2.sym
{
T 44750 59400 5 10 0 0 90 6 1
device=RESISTOR
T 45200 59400 5 10 1 1 180 6 1
value=3000
T 45200 59200 5 10 1 1 180 6 1
refdes=Rmd
}
N 45000 59800 45000 59900 4
N 45000 58600 45000 58900 4
C 45200 57400 1 180 0 vee-1.sym
{
T 45200 57400 5 10 0 0 0 0 1
netname=vee
}
N 47000 58100 47000 58300 4
N 46400 58800 45000 58800 4
C 47200 58100 1 180 0 vee-1.sym
{
T 47200 58100 5 10 0 0 0 0 1
netname=vee
}
N 45600 58100 45900 58100 4
N 45900 58100 45900 58800 4
C 46400 58300 1 0 0 npn-3.sym
{
T 46900 58700 5 10 1 1 0 0 1
refdes=Qm4d
T 47300 58800 5 10 0 0 0 0 1
device=NPN_TRANSISTOR
T 46400 58300 5 10 0 1 0 0 1
model-name=genericNPN
T 46400 58300 5 10 0 0 0 0 1
model=npn
}
N 47000 59300 47000 60400 4
N 50100 61600 50400 61900 4
{
T 50500 61900 5 10 1 1 0 0 1
netname=VRef
}
C 49900 60700 1 270 0 voltage-3.sym
{
T 50600 60500 5 8 0 0 270 0 1
device=VOLTAGE_SOURCE
T 49900 60700 5 10 0 0 0 0 1
value=DC 0.05
T 49900 60700 5 10 0 0 0 0 1
comment=SIN (Vo Va Freq Td Df Phase)
T 50400 60200 5 10 1 1 0 0 1
refdes=Vr
}
N 50100 59200 50100 59800 4
N 50100 60700 50100 61600 4
